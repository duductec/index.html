
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Simulador Manual - Soma de Valores</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background-color: #f4f4f4; }
    textarea { width: 100%; height: 300px; font-family: monospace; }
    button { margin-top: 10px; padding: 10px 20px; font-size: 16px; }
    .resultado { margin-top: 20px; font-size: 20px; color: green; font-weight: bold; }
  </style>
</head>
<body>
  <h2>Simulador Manual - Soma de Valor Total</h2>
  <p>Cole abaixo os dados no formato:</p>
  <pre>10778231	MAIKON 16	R$ 1200.00	13%	R$ 1044.00	19/05/2025</pre>

  <textarea id="entrada" placeholder="Cole os dados aqui..."></textarea>
  <button onclick="somarValores()">Calcular Soma</button>

  <div id="resultado" class="resultado"></div>

  <script>
    function somarValores() {
      const texto = document.getElementById("entrada").value;
      const linhas = texto.trim().split('\n');
      let total = 0;

      linhas.forEach(linha => {
        const colunas = linha.split('\t');
        if (colunas.length >= 5) {
          // Corrigir corretamente: remover apenas "R$", trocar v√≠rgula por ponto
          let valorStr = colunas[4].replace("R$", "").trim().replace(",", ".");
          let valor = parseFloat(valorStr);
          if (!isNaN(valor)) {
            total += valor;
          }
        }
      });

      const totalFormatado = total.toLocaleString("pt-BR", { minimumFractionDigits: 2, maximumFractionDigits: 2 });
      document.getElementById("resultado").innerText = "Total Somado: R$ " + totalFormatado;
    }
  </script>
</body>
</html>
